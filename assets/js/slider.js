!function(a){a.fn.slider=function(b){var c={indicators:!0,height:580,transition:500,interval:6e3};return b=a.extend(c,b),this.each(function(){function h(a,b){a.hasClass("center-align")?a.velocity({opacity:0,translateY:-100},{duration:b,queue:!1}):a.hasClass("right-align")?a.velocity({opacity:0,translateX:100},{duration:b,queue:!1}):a.hasClass("left-align")&&a.velocity({opacity:0,translateX:-100},{duration:b,queue:!1})}function i(a){a>=e.length?a=0:a<0&&(a=e.length-1),f=d.find(".active").index(),f!=a&&(g=e.eq(f),$caption=g.find(".caption"),g.removeClass("active"),g.velocity({opacity:0},{duration:b.transition,queue:!1,easing:"easeOutQuad"}),h($caption,b.transition),b.indicators&&j.eq(f).removeClass("active"),e.eq(a).velocity({opacity:1},{duration:b.transition,queue:!1,easing:"easeOutQuad"}),e.eq(a).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:b.transition,delay:b.transition,queue:!1,easing:"easeOutQuad"}),e.eq(a).addClass("active"),b.indicators&&j.eq(a).addClass("active"))}var g,c=a(this),d=c.find("ul.slides").first(),e=d.find("li"),f=d.find(".active").index();if(f!=-1&&(g=e.eq(f)),c.height(b.height+40),d.height(b.height),e.find(".caption").each(function(){h(a(this),0)}),b.indicators){var j=a('<ul class="indicators"></ul>');e.each(function(c){var g=a('<li class="indicator-item"></li>');g.click(function(){var c=d.parent(),g=c.find(a(this)).index();i(g),clearInterval($interval),$interval=setInterval(function(){f=d.find(".active").index(),e.length==f+1?f=0:f+=1,i(f)},b.transition+b.interval)}),j.append(g)}),c.append(j),j=c.find("ul.indicators").find("li.indicator-item")}g?g.show():(console.log("false"),e.first().addClass("active").velocity({opacity:1},{duration:b.transition,queue:!1,easing:"easeOutQuad"}),f=0,g=e.eq(f),b.indicators&&j.eq(f).addClass("active")),g.find("img").load(function(){g.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:b.transition,queue:!1,easing:"easeOutQuad"})}),$interval=setInterval(function(){f=d.find(".active").index(),i(f+1)},b.transition+b.interval);var k=!1,l=!1,m=!1;c.hammer({prevent_default:!1}).bind("pan",function(a){if("touch"===a.gesture.pointerType){clearInterval($interval);var b=a.gesture.direction,e=a.gesture.deltaX,f=a.gesture.velocityX;$curr_slide=d.find(".active"),$curr_slide.velocity({translateX:e},{duration:50,queue:!1,easing:"easeOutQuad"}),4===b&&(e>c.innerWidth()/2||f<-.65)?m=!0:2===b&&(e<-1*c.innerWidth()/2||f>.65)&&(l=!0)}}).bind("panend",function(a){"touch"===a.gesture.pointerType&&($curr_slide=d.find(".active"),k=!1,curr_index=d.find(".active").index(),m||l?l?(i(curr_index+1),$curr_slide.velocity({translateX:-1*c.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):m&&(i(curr_index-1),$curr_slide.velocity({translateX:c.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}),l=!1,m=!1,clearInterval($interval),$interval=setInterval(function(){f=d.find(".active").index(),e.length==f+1?f=0:f+=1,i(f)},b.transition+b.interval))})})}}(jQuery);
